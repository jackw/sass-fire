@use "sass:list";
@use "sass:meta";
@use "sass:string";
@use 'equals';
@use 'inc';

/// Returns `true` if the specified value is equal, in [`equals`](#equals)
/// terms, to at least one element of the given list; `false` otherwise.
/// Also works with strings.
///
/// @group list
/// @param {*} a The item to compare against.
/// @param {Array|String} list The array to consider.
/// @return {Boolean} `true` if an equivalent item is in the list, `false` otherwise.
/// @see dec
///
/// @example scss - includes
///
///   $has-seventeen: includes(17, (1, 5, 6, 11, 17, 28));
///   @debug $has-seventeen; //=> true

@function includes($a, $list) {
    $idx: 1;

    @if (meta.type-of($list) == 'string') {
        // not the prettiest but probably best to return truthy.
        @return if(string.index($list, $a), true, false);
    }

    @while $idx <= list.length($list) {
        @if (equals.equals(list.nth($list, $idx), $a)) {
            @return true;
        }
        $idx: inc.inc($idx);
    }
    @return false;
}
