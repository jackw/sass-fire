@use "sass:list";
@use "sass:meta";
@use '../tail';
@use '../head';

@function run-function-with-params($function, $input) {
    $fn: if(meta.type-of($function) == 'list', head.head($function), $function);
    @if meta.type-of($function) ==
        'list' or
        meta.type-of($function) ==
        'arglist'
    {
        $input: list.append(tail.tail($function), $input);
    }
    @if meta.function-exists($fn) {
        @if meta.type-of($input) == 'map' {
            @return meta.call(meta.get-function($fn), $input);
        } @else {
            @return meta.call(meta.get-function($fn), $input...);
        }
    } @else {
        @return $input;
    }
}
